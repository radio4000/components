<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" href="data:;base64,iVBORw0KGgo=" />
		<title>r4-supabase-filters</title>
		<meta name="description" content="r4-supabase-filters" />
		<script type="module" src="/src/index.js"></script>

		<style>
			output {
				display: flex;
				flex-direction: column;
				padding: 1rem;
			}
			r4-supabase-filters {
				display: flex;
				flex-direction: column;
			}
			r4-supabase-filters form {
				display: flex;
				flex-direction: row;
				flex-wrap: wrap;
			}
			r4-supabase-filters form fieldset {
				display: inline;
			}
			r4-supabase-filters form ul {
				list-style: none;
				display: flex;
				flex-wrap: wrap;
			}
			textarea {
				width: 100%;
				min-width: 100%;
				min-height: 10rem;
			}
		</style>
	</head>

	<body>
		<menu>
			<li>
				Helps build a list of filters for a query to supabase (via the js sdk) using
				<a href="https://supabase.com/docs/reference/javascript/using-filters">filters</a>
			</li>
			<li>Fires a "filters" event anytime a filter is set or updated.</li>
		</menu>

		<r4-supabase-filters table="tracks"></r4-supabase-filters>

		<script type="module">
			import R4SupabaseFilters from '../../src/components/r4-supabase-filters.js'

			const $examples = document.querySelectorAll('r4-supabase-filters')

			function onFilter(event) {
				console.log('filter changed', event.detail)
			}

			$examples.forEach(($example) => {
				$example.addEventListener('filters', onFilter)
			})
		</script>
	</body>
</html>
